(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-245052f6"],{"956c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("p",[t._v("标题：")]),a("el-input",{staticClass:"post-title",attrs:{placeholder:"请输入标题",autofocus:"true",clearable:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("p",[t._v("简介:")]),a("el-input",{staticClass:"post-content",attrs:{type:"textarea",rows:10,placeholder:"请输入内容",minlength:"1"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),a("div",{staticClass:"check-box"},[a("p",[t._v("类型：")]),a("el-radio",{attrs:{label:"新手"},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}},[t._v("新手")]),a("el-radio",{attrs:{label:"刹车"},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}},[t._v("刹车")]),a("el-radio",{attrs:{label:"平花"},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}},[t._v("平花")]),a("el-radio",{attrs:{label:"速滑"},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}},[t._v("速滑")])],1),a("div",{staticClass:"upload"},[a("p",[t._v("视频：")]),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"none","http-request":t.uploadfile,"on-remove":t.handleRemove}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传视频文件文件")])]),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("video",{attrs:{width:"100%",src:t.dialogImageUrl}})])],1),a("el-button",{attrs:{type:"primary"},on:{click:t.sendPost}},[t._v("发布")]),a("el-button",[t._v("清空")])],1)},l=[],s={name:"uploadvideo",data:function(){return{title:"",content:"",dialogImageUrl:"",dialogVisible:!1,tag:"新手",video:""}},methods:{handleRemove:function(t,e){console.log(t,e)},uploadfile:function(t){this.video=t.file,console.log(this.video)},sendPost:function(){if(""!=this.title)if(""==this.content)this.$message({message:"简介不能为空",type:"error"});else if(""==this.video)this.$message({message:"视频文件不能为空",type:"error"});else{var t=new FormData;t.append("rooter",localStorage.getItem("rooterId")),t.append("title",this.title),t.append("tag",this.tag),t.append("body",this.content),t.append("video",this.video),this.$store.dispatch("sendVideo",t),this.title="",this.content="",this.dialogVisible=!1,this.dialogImageUrl="",this.imageList=[],this.$refs.upload.clearFiles(),this.tag="新手"}else this.$message({message:"标题不能为空",type:"error"})}}},o=s,n=(a("d253"),a("2877")),c=Object(n["a"])(o,i,l,!1,null,"f12444b0",null);e["default"]=c.exports},cc35:function(t,e,a){},d253:function(t,e,a){"use strict";a("cc35")}}]);